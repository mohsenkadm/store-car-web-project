
@{
    ViewData["Title"] = "posts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@*<html class="no-js" lang="ar" data-textdirection="rtl">
<body>*@
    <section id="blog" class="section">
        <div class="container">
            <div class="row">
                <!-- section title -->
                <div class="title text-center wow fadeInDown">
                    <h2>انشاء <span class="color">منشور</span></h2>
                    <div class="border"></div>
                </div>
                <!-- /section title -->
                <div class="contact-info col-md-6 wow fadeInUp" data-wow-duration="500ms">

                    <div id="animcar" class="contact-details">
                        @*<img class="img-responsive" style="width:70%;" src="~/images/blog/car.svg" />*@

                    </div>
                </div>
                <!-- Contact Form  style="width:80%; margin:0 auto;"-->
                <div class="contact-form  col-md-6  wow fadeInUp" data-wow-duration="500ms" data-wow-delay="300ms">
                    <form id="contact-form" role="form" enctype="multipart/form-data" method="post">
                        <div class="row">
                            <div class="form-group col-md-6">
                                <input type="text" placeholder="موقعك" class="form-control text-right" autocomplete="off" name="address" id="address" />
                            </div>
                            <div class="form-group col-md-6">
                                <input type="text" placeholder="عنوان المنشور" class="form-control text-right" autocomplete="off" name="title" id="title" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6">
                                <input type="number" placeholder="السعر" class="form-control text-right" autocomplete="off" name="price" id="price" />
                            </div>
                            <div class="form-group col-md-6">
                                <input type="number" placeholder="رقم الهاتف" class="form-control text-right" autocomplete="off" name="phone" id="phone" />
                            </div>

                        </div>
                        <div class="row">
                            <div class="form-group col-md-6">
                                <input type="text" placeholder="اسم الشركة" class="form-control text-right" autocomplete="off" name="Company_id" id="Company_id" />
                            </div>
                            <div class="form-group col-md-6">
                                <input type="number" placeholder="الموديل" class="form-control text-right" autocomplete="off" name="Model" id="Model" />
                            </div>

                        </div>
                        <div class="row">

                            <div class="form-group col-md-6">
                                <input type="file" id="files" name="files" placeholder="صورة المنشور" class="form-control text-right" autocomplete="off" multiple />
                            </div>
                            <div class="form-group col-md-6">
                                <select class="form-control text-right" name="type_id" id="type_id">
                                    <option value="0" selected>اختيار تصنيف المنشور</option>
                                    <option value="1">سيارات أجرة</option>
                                    <option value="2">سيارات صالون</option>
                                    <option value="3">سيارات  صغيرة</option>
                                    <option value="4">سيارات الحمل</option>
                                    <option value="5">دراجات نارية</option>
                                    <option value="6">دراجات هوائية</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <textarea rows="6" placeholder="تفاصيل المنشور" class="form-control text-right" autocomplete="off" name="commend" id="commend"></textarea>
                        </div>

                        <div id="cf-submit">
                            <input type="submit" id="post" class="btn btn-transparent" value="نشر المنشور">
                        </div>
                        <br />

                        <div id="cf-submit">
                            <input  type="button"  id="go" class="btn btn-transparent" onclick="call_Action('Blogs/profile')" value="ذهاب الى الصفحة">
                        </div>
                    </form>


                </div>
                <!-- ./End Contact Form -->

            </div> <!-- end row -->
        </div> <!-- end container -->
    </section>
@*</body>
</html>*@
<div id="mydiv">
    <script>
        var animation = bodymovin.loadAnimation({
            container: document.getElementById('animcar'),
            renderer: 'svg',
            loop: true,
            autoplay: true,
            path: "lib/lottie/car.json"
        })
        $("#post").on("click", (e) => {
            e.preventDefault();
            var object = {
                title: $("#title").val(),
                address: $("#address").val(),
                phone: $("#phone").val(),
                price: $("#price").val(),
                Company_id: $("#Company_id").val(),
                Model: $("#Model").val(),
                type_id: $("#type_id").val(),
                image: $('#files').val(),
                commend: $("#commend").val(),
            };
            if (object.title === "" || object.title.trim() === "") {
                toust.warning("يرجى ادخال عنوان المنشور");
                return;
            }
            else if (object.address === "" || object.address.trim() === "") {
                toust.warning("يرجى ادخال موقعك");
                return;
            }
            else if (object.phone === "" || object.phone.trim() === "") {
                toust.warning("يرجى ادخال رقم الهاتف");
                return;
            }
            else if (object.price === "" || object.price.trim() === "") {
                toust.warning("يرجى ادخال السعر");
                return;
            }
            else if (object.Company_id === "" || object.Company_id.trim() === "") {
                toust.warning("يرجى ادخال اسم الشركة ");
                return;
            }
            else if (object.Model === "" || object.Model.trim() === "") {
                toust.warning("يرجى ادخال  الموديل");
                return;
            }
            else if (object.type_id === "" || object.type_id.trim() === "") {
                toust.warning("يرجى ادخال تصنيف المنشور");
                return;
            }
            else if (object.image === "" || object.image.trim() === "") {
                toust.warning("يرجى ادخال الصورة");
                return;
            }
            else if (object.commend === "" || object.commend.trim() === "") {
                toust.warning("يرجى ادخال تفاصيل المنشور");
                return;
            }
            call_ajax("POST", "Blogs/PostPosts", object, upluad);

        });
      
    </script>
</div>